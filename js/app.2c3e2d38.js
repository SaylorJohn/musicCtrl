(function(e){function t(t){for(var o,l,s=t[0],r=t[1],c=t[2],d=0,f=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&f.push(i[l][0]),i[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},i={app:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-spacer")],1),n("v-main",[n("v-row",[n("v-col",{attrs:{cols:"8"}},[n("MusicVisuals",{attrs:{files:e.files}})],1),n("v-col",{attrs:{cols:"4"}},[n("Sidebar",{attrs:{files:e.files},on:{"delete-file":e.deleteFile}})],1)],1),n("v-row",[n("v-row",[n("FileDrop",{attrs:{files:e.files},on:{"new-files":e.newFiles}})],1)],1)],1)],1)},a=[],l=n("2909"),s=(n("99af"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.files.length?n("v-select",{attrs:{items:e.files,"item-text":"name","return-object":"",label:"Standard"},on:{change:e.loadMusic}}):e._e(),e.loaded?n("v-container",{staticStyle:{"padding-top":"40px"}},[n("div",[n("v-card",{staticClass:"overflow-y-auto",attrs:{width:"600",height:"400",id:"player"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.elapsed,callback:function(t){e.elapsed=t},expression:"elapsed"}},e._l(e.seconds,(function(t,o){return n("v-list-item",{key:o,on:{click:function(n){return e.playFrom(t)}}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"blue"}},[e._v(" mdi-play-circle ")])],1),n("v-list-item-content",[n("h3",[e._v(e._s(t)+" sec ( "+e._s(e.showMin(t))+" min )")]),e._v(" "),n("h6",[e._v("/ "+e._s(e.max))])])],1)})),1)],1)],1)],1),n("div",[n("Controls",{attrs:{music:e.music,locked:e.locked},on:{"set-locked":e.setLocked}})],1)]):n("v-container",{staticStyle:{"padding-top":"40px"}},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{width:"600",height:"400",type:"card"}})],1)],1)}),r=[],c=(n("d3b7"),n("ddb0"),n("b680"),n("1e5c")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-col",[n("v-container",{staticClass:"controls"},[n("v-btn",{staticClass:"mx-2",attrs:{icon:"",height:"75",width:"75",color:e.music.playing()?"gray":"green"},on:{click:function(t){return e.togglePause()}}},[n("v-icon",{attrs:{"x-large":""}},[e._v(" mdi-"+e._s(e.music.playing()?"pause":"play")+" ")])],1),n("v-btn",{staticClass:"mx-2",attrs:{icon:"",height:"75",width:"75",color:"black"},on:{click:function(t){return e.stopMusic()}}},[n("v-icon",{attrs:{"x-large":""}},[e._v(" mdi-square ")])],1),n("v-btn",{staticClass:"mx-2",attrs:{icon:"",height:"75",width:"75",color:"blue"},on:{click:function(t){return e.setLocked(!e.locked)}}},[n("v-icon",{attrs:{"x-large":""}},[e._v(" mdi-lock-"+e._s(e.locked?"outline":"open-variant-outline")+" ")])],1)],1),n("v-spacer"),n("v-spacer"),n("v-container",[n("v-row",[n("v-slider",{attrs:{"prepend-icon":"mdi-volume-high",label:e.volume.toString(),step:"1"},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1)],1)],1)],1)},d=[],f={name:"Controls",components:{},props:{music:Object,locked:Boolean},data:function(){return{volume:100}},methods:{togglePause:function(){this.music.playing()?this.music.pause():this.music.play()},setLocked:function(e){this.$emit("set-locked",e)},stopMusic:function(){this.music.stop()},setVolume:function(e){this.music.volume(e/100)}},watch:{volume:{handler:function(e){this.setVolume(e)}}}},p=f,v=(n("e217"),n("2877")),m=n("6544"),h=n.n(m),g=n("8336"),b=n("b0af"),y=n("62ad"),w=n("a523"),k=n("132d"),V=n("0fd9"),_=n("ba0d"),x=n("2fa4"),S=Object(v["a"])(p,u,d,!1,null,"a0b9986a",null),j=S.exports;h()(S,{VBtn:g["a"],VCard:b["a"],VCol:y["a"],VContainer:w["a"],VIcon:k["a"],VRow:V["a"],VSlider:_["a"],VSpacer:x["a"]});var M={name:"MusicVisuals",components:{Controls:j},props:{files:Array},data:function(){return{autoplay:!0,current:1,duration:0,elapsed:0,loaded:!1,locked:!0,max:100,min:0,music:null,seconds:[],selectedSecond:0,start:0,stop:0}},mounted:function(){},methods:{loadMusic:function(e){var t,n=this,o=new FileReader;o.readAsDataURL(e),o.onload=function(){n.music=new c["Howl"]({src:[o.result],autoplay:!0,html5:!0,onload:function(){n.max=Math.ceil(n.music.duration()),n.seconds=Object(l["a"])(Array(n.max+1).keys()),n.loaded=!0,console.log("loaded",n.loaded)},onplay:function(){console.log("play"),t=setInterval((function(){return n.elapsed=Math.ceil(n.music.seek())}),100)},onend:function(){n.elapsed=0,clearInterval(t)}})}},setLocked:function(e){this.locked=e},playFrom:function(e){this.music.seek(e-1),this.elapsed=e-1,this.music.playing()||this.music.play()},showMin:function(e){return(Math.round(e/60*100)/100).toFixed(2)}},watch:{elapsed:{handler:function(e){if(this.locked){var t=this.$el.querySelector(".v-list-item--active").offsetTop;this.$el.querySelector("#player").scrollTo({top:e?t-80:0,behavior:"smooth"})}}},files:{handler:function(){console.log(this.files)}}},destroyed:function(){}},O=M,F=n("8860"),C=n("da13"),L=n("5d23"),I=n("1baa"),$=n("34c3"),P=n("b974"),T=n("3129"),A=Object(v["a"])(O,s,r,!1,null,"799cfae4",null),D=A.exports;h()(A,{VCard:b["a"],VContainer:w["a"],VIcon:k["a"],VList:F["a"],VListItem:C["a"],VListItemContent:L["a"],VListItemGroup:I["a"],VListItemIcon:$["a"],VSelect:P["a"],VSkeletonLoader:T["a"]});var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{ref:"dzone",staticClass:"pa-2",staticStyle:{cursor:"pointer"},attrs:{id:"dropzone",tabindex:"0",title:"Cliquez ou glissez vos fichiers ici!",color:"indigo lighten-4",width:"100%",height:"200"},on:{click:e.openFileupload}},[n("input",{ref:"upload",staticStyle:{display:"none"},attrs:{id:"fileUpload",type:"file",accept:"audio/*",multiple:""},on:{change:function(t){return e.uploadFiles(t,!1)}}}),n("v-row",{attrs:{justify:"center"}},[e.dragover?e._e():n("v-icon",{attrs:{color:"indigo darken-2",size:"75"}},[e._v("mdi-cloud-upload-outline")]),e.dragover?n("v-icon",{attrs:{color:"indigo darken-2",size:"75"}},[e._v("mdi-book-plus")]):e._e()],1),n("v-row",{attrs:{justify:"center"}},[n("span",{staticClass:"title indigo--text text--darken-2"},[e._v("Cliquez ou glissez vos fichiers ici!")])])],1)},R=[],z={name:"FileDrop",data:function(){return{formUpload:!1,dragover:!1,files:[]}},methods:{openFileupload:function(){this.$refs.upload.click()},uploadFiles:function(e,t){var n;if(this.dragover=!1,t)n=e.dataTransfer.files;else{if(!e.target.files)return!1;n=e.target.files}if(n.length){for(var o=0;o<n.length;o++)this.files=[].concat(Object(l["a"])(this.files),[n[o]]);console.log(this.files),this.$emit("new-files",this.files),this.files=[]}}},mounted:function(){var e=this,t=this.$el;t&&(t.addEventListener("dragenter",(function(t){t.preventDefault(),e.dragover=!0})),t.addEventListener("dragleave",(function(t){t.preventDefault(),e.dragover=!1})),t.addEventListener("dragover",(function(t){t.preventDefault(),e.dragover=!0})),t.addEventListener("drop",(function(t){t.preventDefault(),e.uploadFiles(t,!0)})))}},q=z,B=n("8dd9"),U=Object(v["a"])(q,E,R,!1,null,null,null),G=U.exports;h()(U,{VIcon:k["a"],VRow:V["a"],VSheet:B["a"]});var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e.loaded?n("v-list",[n("v-subheader",[e._v("Temp play")]),n("v-list-item",[n("v-slider",{attrs:{"prepend-icon":"mdi-volume-high",label:e.volume.toString(),step:"1"},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1),n("v-list-item-group",e._l(e.files,(function(t,o){return n("v-list-item",{key:o,on:{mousedown:function(t){return e.loadMusic(o)},mouseup:function(t){return e.unloadMusic()},mouseleave:function(t){return e.unloadMusic()}}},[n("v-list-item-title",[e._v(" "+e._s(o+1)+" - "+e._s(t.name)+" ")])],1)})),1)],1):e._e()],1)},J=[],K=n("1da1"),N=(n("96cf"),{name:"Sidebar",props:{files:Array},data:function(){return{base64Files:[],loaded:!1,volume:100,music:null}},methods:{loadMusic:function(e){var t=this;t.music=new c["Howl"]({src:[t.base64Files[e]],autoplay:!0,loop:!0,html5:!0,onload:function(){t.max=Math.ceil(t.music.duration()),t.setVolume(t.volume),t.seconds=Object(l["a"])(Array(t.max+1).keys()),console.log("loaded")}})},setVolume:function(e){this.music.volume(e/100)},unloadMusic:function(){this.music&&this.music.unload()},fileToBase64:function(e){return new Promise((function(t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)}}))},loadFiles:function(){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loaded=!1,n=0;case 2:if(!(n<e.files.length)){t.next=11;break}return t.t0=e.base64Files,t.next=6,e.fileToBase64(e.files[n]);case 6:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 8:n++,t.next=2;break;case 11:e.loadMusic(),e.loaded=!0;case 13:case"end":return t.stop()}}),t)})))()}},watch:{files:{handler:function(){this.loadFiles()}},volume:{handler:function(e){this.setVolume(e)}}}}),Q=N,W=n("e0c7"),X=Object(v["a"])(Q,H,J,!1,null,null,null),Y=X.exports;h()(X,{VCard:b["a"],VList:F["a"],VListItem:C["a"],VListItemGroup:I["a"],VListItemTitle:L["b"],VSlider:_["a"],VSubheader:W["a"]});var Z={name:"App",components:{MusicVisuals:D,FileDrop:G,Sidebar:Y},data:function(){return{files:[]}},methods:{newFiles:function(e){this.files=[].concat(Object(l["a"])(this.files),Object(l["a"])(e)),console.log(this.files)},deleteFile:function(e){this.files.splice(e,1)}},watch:{}},ee=Z,te=n("7496"),ne=n("40dc"),oe=n("f6c4"),ie=Object(v["a"])(ee,i,a,!1,null,null,null),ae=ie.exports;h()(ie,{VApp:te["a"],VAppBar:ne["a"],VCol:y["a"],VMain:oe["a"],VRow:V["a"],VSpacer:x["a"]});var le=n("f309");o["a"].use(le["a"]);var se=new le["a"]({icons:{iconfont:"mdiSvg"}});o["a"].config.productionTip=!1,new o["a"]({vuetify:se,render:function(e){return e(ae)}}).$mount("#app")},e217:function(e,t,n){"use strict";n("e957")},e957:function(e,t,n){}});
//# sourceMappingURL=app.2c3e2d38.js.map